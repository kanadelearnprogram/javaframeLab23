## 一、分角色登录跳转与核心页面
| 角色       | 登录跳转页面                | 页面核心组件/功能入口                                                                 |
|------------|-----------------------------|--------------------------------------------------------------------------------------|
| admin      | 系统管理首页（/admin/index） | 全局数据概览、角色权限管理、各模块配置入口（班级/学生/课程/文件分类）                   |
| teacher    | 教师工作台（/teacher/index） | 授课班级列表、成绩管理入口、Excel批量导入工具、成绩统计报表                               |
| student    | 学生个人中心（/student/index）| 已选课程列表、个人成绩查询、成绩排序筛选、个人信息修改入口                               |

## 二、学生模块补充（课程+成绩查询）
### 1. 已选课程查询（分页）
- **功能描述**：学生查看自己已选课程（有成绩记录即视为已选），支持分页浏览
- **筛选条件**：无（默认查询当前学生所有已选课程）
- **排序支持**：按课程名称（升序/降序）、教师姓名（升序/降序）
- **展示字段**：课程名称、授课教师、所属班级、课程状态（未开始/进行中/已结束）、平时/期末成绩占比、选课时间

### 2. 个人成绩查询（分页+成绩排序）
- **功能描述**：学生查看个人所有课程成绩，支持分页和多维度排序
- **筛选条件**：无（默认查询所有成绩）
- **排序支持**：按总成绩（升序/降序，默认降序）、平时成绩（升序/降序）、期末成绩（升序/降序）、成绩更新时间（升序/降序）
- **展示字段**：课程名称、平时成绩、期末成绩、总成绩、是否及格、成绩占比、成绩更新时间

## 三、教师模块补充（授课班级+成绩管理）
### 1. 授课班级查询
- **功能描述**：教师查看自己授课的所有班级，默认展示班级核心信息
- **展示字段**：班级名称、年级、所属院系、班级状态（正常/已毕业/已解散）、学生人数、创建时间
- **操作入口**：点击班级名称跳转至「该班级成绩管理页面」

### 2. 按班级查询学生成绩
- **功能描述**：教师选择授课班级后，查看该班级所有学生的课程成绩（仅显示当前教师授课课程）
- **筛选条件**：按课程名称筛选（下拉选择当前班级的授课课程）
- **排序支持**：按总成绩（默认降序）、平时成绩、期末成绩、学生姓名
- **展示字段**：学号、学生姓名、课程名称、平时成绩、期末成绩、总成绩、是否及格、录入人、更新时间
- **操作入口**：单条成绩编辑按钮、批量导入成绩按钮

### 3. 成绩编辑（单条/批量）
#### 3.1 单条成绩编辑
- **功能描述**：教师点击单条成绩的「编辑」按钮，修改学生的平时成绩/期末成绩
- **自动计算**：修改后实时计算总成绩（平时成绩×平时占比 + 期末成绩×期末占比）和及格状态（总成绩≥60分为及格）
- **保存校验**：成绩范围限制为0-100分，超出则提示「成绩需在0-100分之间」

#### 3.2 Excel批量导入成绩
- **功能描述**：教师下载成绩导入模板（含学号、学生姓名、课程名称、平时成绩、期末成绩字段），填写后上传批量导入
- **模板约束**：模板中已预填当前班级的学生学号和姓名，不可修改；仅需填写平时成绩和期末成绩
- **自动计算**：导入后系统自动计算总成绩和及格状态，覆盖原有成绩（若存在）
- **导入结果反馈**：显示成功导入条数、失败条数及失败原因（如学号不存在、成绩格式错误）

### 4. 成绩统计（按班级+课程）
- **功能描述**：教师选择班级和课程后，查看该课程的成绩统计数据
- **统计维度**：
    - 基础数据：总人数、及格人数、不及格人数、及格率、平均分、最高分、最低分
    - 不及格详情：不及格学生姓名、学号、总成绩、具体分数（平时+期末）
- **排序支持**：统计结果中的学生成绩默认按总成绩降序排序，便于快速定位不及格学生
- **展示形式**：数字统计+图表可视化（分数段分布柱状图）

## 补充：Excel 批量导出成绩（教师模块）
### 功能描述
教师在「按班级查询学生成绩」页面，选择目标班级和课程后，可导出该课程的学生成绩数据为 Excel 文件，支持离线存档或打印使用。

### 核心特性
1. **导出范围**：仅导出当前选择班级+课程的有效成绩（`is_delete=0`），且仅包含当前教师授课课程的数据；
2. **模板规范**：导出文件按固定格式生成，字段清晰，支持直接用于成绩公示或教务归档；
3. **数据完整性**：包含成绩相关核心字段，兼顾展示和统计需求；
4. **便捷操作**：页面提供「导出Excel」按钮，点击后直接下载，无需额外配置。

### 导出 Excel 字段说明（列顺序固定）
| 列名         | 数据说明                                                                 |
|--------------|--------------------------------------------------------------------------|
| 班级名称     | 当前选择的班级名称（如「软件工程2301」）                                 |
| 年级         | 班级所属年级（如「2023」）                                               |
| 课程名称     | 所选导出课程名称（如「Java程序设计」）                                   |
| 平时成绩占比 | 课程平时成绩权重（如「30%」）                                             |
| 期末成绩占比 | 课程期末成绩权重（如「70%」）                                             |
| 学号         | 学生唯一标识（如「2023001」）                                             |
| 学生姓名     | 学生真实姓名                                                             |
| 平时成绩     | 学生该课程平时成绩（保留1位小数）                                         |
| 期末成绩     | 学生该课程期末成绩（保留1位小数）                                         |
| 总成绩       | 自动计算的总评成绩（保留1位小数）                                         |
| 成绩等级     | 按总成绩划分（优秀：90-100/良好：80-89/中等：70-79/及格：60-69/不及格：<60） |
| 是否及格     | 明确标识（「是」/「否」）                                                 |
| 录入人       | 成绩录入教师姓名                                                         |
| 最后更新时间 | 成绩最近一次修改时间（格式：YYYY-MM-DD HH:mm:ss）                         |

### 操作流程
1. 教师在「授课班级列表」选择目标班级，进入「班级成绩管理页面」；
2. 下拉选择需导出成绩的课程（仅显示当前教师授课课程）；
3. 点击页面「导出Excel」按钮，系统自动查询该班级+课程的成绩数据；
4. 生成 Excel 文件并触发浏览器下载，文件名格式为「{班级名称}_{课程名称}_成绩表_{导出日期}.xlsx」（如「软件工程2301_Java程序设计_成绩表_20251127.xlsx」）。
